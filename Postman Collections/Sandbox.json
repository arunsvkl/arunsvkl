{
  "info": {
    "_postman_id": "6713570c-d557-4471-80da-0e9308d4ffc2",
    "name": "Sandbox",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "New Folder",
      "item": [],
      "id": "baa5fcee-ae67-4e61-9123-1b5e7977cc1f"
    },
    {
      "name": "New Request",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "245a91d7-b71d-45fd-a181-efc0095b7ec2",
            "exec": [
              "pm.test(\"addHeader\", function () {",
              "    pm.environment.set(\"myurl\", 'https://reqres.in/api');",
              "    pm.collectionVariables.get(\"myurl\");",
              "",
              "    pm.request.headers.add({ key: 'test-api-key', value: \"test?api-val\" });",
              "    // pm.request.url.addQueryParams({testParam:\"testQueryValue\"})",
              "",
              "    // This is working and Added to queryParam.",
              "    pm.request.addQueryParams(\"paramKey1=paramValue1\");",
              "    // pm.environment.set('myurl','https://reqres.in/api');",
              "    console.log(\"Env Var \" + pm.environment.get('newurl'));",
              "    console.log(\"Env Var \" + pm.environment.get('myurl'));",
              "",
              "});",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ff4dac6b-4510-457d-b46d-4f6ab92bcbb1",
            "exec": [
              "var template = `",
              "    <table bgcolor=\"#FFFFFF\">",
              "        <tr>",
              "            <th>email</th>",
              "            <th>first_name</th>",
              "            <th>last_name</th>",
              "            <th>avatar</th>",
              "        </tr>",
              "",
              "        {{#each response}}",
              "            <tr>",
              "                <td>{{email}}</td>",
              "                <td>{{first_name}}</td>",
              "                <td>{{last_name}}</td>",
              "                <td>{{avatar}}</td>",
              "            </tr>",
              "        {{/each}}",
              "    </table>",
              "`;",
              "",
              "var schema = {",
              "  \"$schema\": \"http://json-schema.org/draft-04/schema#\",",
              "  \"type\": \"object\",",
              "  \"properties\": {",
              "    \"page\": {",
              "      \"type\": \"integer\"",
              "    },",
              "    \"per_page\": {",
              "      \"type\": \"integer\"",
              "    },",
              "    \"total\": {",
              "      \"type\": \"integer\"",
              "    },",
              "    \"total_pages\": {",
              "      \"type\": \"integer\"",
              "    },",
              "    \"data\": {",
              "      \"type\": \"array\",",
              "      \"items\": [",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        },",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        },",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        },",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        },",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        },",
              "        {",
              "          \"type\": \"object\",",
              "          \"properties\": {",
              "            \"id\": {",
              "              \"type\": \"integer\"",
              "            },",
              "            \"email\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"first_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"last_name\": {",
              "              \"type\": \"string\"",
              "            },",
              "            \"avatar\": {",
              "              \"type\": \"string\"",
              "            }",
              "          },",
              "          \"required\": [",
              "            \"id\",",
              "            \"email\",",
              "            \"first_name\",",
              "            \"last_name\",",
              "            \"avatar\"",
              "          ]",
              "        }",
              "      ]",
              "    },",
              "    \"support\": {",
              "      \"type\": \"object\",",
              "      \"properties\": {",
              "        \"url\": {",
              "          \"type\": \"string\"",
              "        },",
              "        \"text\": {",
              "          \"type\": \"string\"",
              "        }",
              "      },",
              "      \"required\": [",
              "        \"url\",",
              "        \"text\"",
              "      ]",
              "    }",
              "  },",
              "  \"required\": [",
              "    \"page\",",
              "    \"per_page\",",
              "    \"total\",",
              "    \"total_pages\",",
              "    \"data\",",
              "    \"support\"",
              "  ]",
              "};",
              "var MyArray = pm.response.json().data;",
              "const responseJson = pm.response.json();",
              "",
              "pm.test(\"Sample Test\", function () {",
              "    // const responseJson = pm.response.json();",
              "    // var MyArray = pm.response.json().data;",
              "    pm.response.to.have.status(200);",
              "    pm.expect(responseJson.total).to.equal(12);",
              "    pm.expect(responseJson.data[1].first_name).to.equal(\"Lindsay\");",
              "    pm.expect(MyArray.length).to.equal(6)",
              "    console.log(MyArray.length);",
              "});",
              "",
              "pm.test(\"verifyFName\", function () {",
              "    // console.log(MyArray.length)",
              "    for (i = 0; i < MyArray.length; i++) {",
              "        //  console.log(pm.responseJson.data[i].first_name);",
              "        console.log(i + \" : \" + responseJson.data[i].first_name + \" : \" + responseJson.data[i].last_name + \" : \" + responseJson.data[i].email);",
              "        // pm.response.to.have.body(\"first_name\");",
              "",
              "        pm.expect(pm.response.text()).to.include(\"id\");",
              "        pm.expect(pm.response.text()).to.include(\"first_name\");",
              "        pm.expect(pm.response.text()).to.include(\"last_name\");",
              "        pm.expect(pm.response.text()).to.include(\"email\");",
              "        pm.expect(pm.response.text()).to.include(\"avatar\");",
              "    }",
              "});",
              "// pm.test(\"addHeader\", function(){",
              "// //     var Header = require('postman-collection').Header;",
              "// // printHeaders(pm.request.headers); // before shows 2",
              "// // pm.request.headers.append(Header.create('fake-api-key-value', 'X-AMC-Vendor-Key'));",
              "// // printHeaders(pm.request.headers); // after shows 3 with new addition, but doesn't send",
              "// // function printHeaders(headers) { // print out headers to the console",
              "// //     console.log('-------pm.request.headers-------')",
              "// //     headers.each(function(header) {",
              "// //        console.log(header.key + ': ' + header.value);",
              "// //     })}",
              "// pm.request.headers.add( {key: 'test-api-key',value: \"test=api-val\"});",
              "// });",
              "// Set visualizer",
              "pm.visualizer.set(template, {",
              "    // Pass the response body parsed as JSON as `data`",
              "    response: pm.response.json()",
              "});",
              "pm.test.skip(\"TobeSkipped-Status code is 200\", () => {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "",
              "// pm.test(\"Test to be Failed Commented\", ()=>{",
              "//  pm.expect.fail('This failed because ...');",
              "// })",
              "pm.test(\"Content-Type is present\", function () {",
              "    pm.response.to.have.header(\"Content-Type\");",
              "});",
              "",
              "pm.test(\"verifyObjElements\", function () {",
              "",
              "    // console.log(\"+++++++++++++++++++++\");",
              "    for (i = 0; i < MyArray.length; i++) {",
              "        for (var prop in MyArray[i]) {",
              "            pm.expect(pm.response.text()).to.include(\"id\");",
              "            pm.expect(pm.response.text()).to.include(\"first_name\");",
              "            pm.expect(pm.response.text()).to.include(\"last_name\");",
              "            pm.expect(pm.response.text()).to.include(\"email\");",
              "            pm.expect(pm.response.text()).to.include(\"avatar\");",
              "",
              "            // console.log(\"Key:\" + prop);",
              "            // console.log(\"Value:\" + MyArray[i][prop]);",
              "",
              "        }",
              "        // console.log(\"========================\");",
              "    }",
              "});",
              "// pm.test(\"Body matches string\", function () {",
              "//     pm.expect(pm.response.text()).to.include(\"email\");",
              "// });",
              "var schema = {",
              "    \"items\": {",
              "        \"type\": \"boolean\"",
              "    }",
              "};",
              "",
              "",
              "pm.test('Schema Validation', function () {",
              "    pm.expect(tv4.validate(responseJson, schema)).to.be.true;",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "286c0e51-ed69-4621-9de8-c2337f07f770",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{myurl}}/users?page=2",
          "host": [
            "{{myurl}}"
          ],
          "path": [
            "users"
          ],
          "query": [
            {
              "key": "page",
              "value": "2"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "New Request",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "3d506f56-a367-46f4-9681-6b5cd10df956",
            "exec": [
              "pm.globals.set(\"jsonBody\", JSON.stringify(pm.iterationData.toObject()));",
              "// pm.globals.set(\"jsonBody\",JSON.stringify(jsonBody));"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "88a6741e-7698-4e04-826a-5183d43b7a54",
            "exec": [
              "pm.test(\"Status code is 201\", function () {",
              "    pm.response.to.have.status(201);",
              "});",
              "pm.test(\"Body matches string\", function () {",
              "    pm.expect(pm.response.text()).to.include(\"createdAt\");",
              "});",
              "pm.test(\"Successful POST request\", function () {",
              "    pm.expect(pm.response.code).to.be.oneOf([201, 202]);",
              "});",
              "pm.test(\"Status code name has string\", function () {",
              "    pm.response.to.have.status(\"Created\");",
              "});",
              "pm.test(\"Response time is less than 1000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);",
              "});",
              "pm.test(\"Content-Type is present\", function () {",
              "    pm.response.to.have.header(\"Content-Type\");",
              "});",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "id": "e0fbc319-9552-426d-9bf1-33edb94985ce",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "file",
          "file": {}
        },
        "url": "https://reqres.in/api/users"
      },
      "response": []
    }
  ]
}